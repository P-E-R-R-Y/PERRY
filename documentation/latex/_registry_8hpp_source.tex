\doxysection{Registry.\+hpp}
\hypertarget{_registry_8hpp_source}{}\label{_registry_8hpp_source}\index{/Users/perrychouteau/Documents/GitHub/PERRY/project/modules/core/ecs/Registry.hpp@{/Users/perrychouteau/Documents/GitHub/PERRY/project/modules/core/ecs/Registry.hpp}}
\mbox{\hyperlink{_registry_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#ifndef\ REGISTRY\_HPP}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#define\ REGISTRY\_HPP}}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{comment}{//local}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_sparse_array_8hpp}{SparseArray.hpp}}"{}}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{comment}{//global}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ <any>}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ <functional>}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ <typeindex>}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ <unordered\_map>}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#include\ <iostream>}}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#include\ <unordered\_map>}}
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#include\ <typeindex>}}
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceecs}{ecs}}\ \{}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classecs_1_1_entity}{Entity}};}
\DoxyCodeLine{00033\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classecs_1_1_system}{System}};}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00039\ \ \ \ \ }
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classecs_1_1_registry}{Registry}}\ \{}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classecs_1_1_entity}{Entity}}\ \mbox{\hyperlink{classecs_1_1_registry_a3542ce7e9d41bfae77f5ad1a514be917}{createEntity}}();}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classecs_1_1_entity}{Entity}}\ \mbox{\hyperlink{classecs_1_1_registry_aa1fc7dd7055a013363b03821aa89e731}{entityFromIndex}}(std::size\_t\ idx);}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classecs_1_1_registry_a96b2a22f1fceafbb7f35766f8e4df6e5}{killEntity}}(\mbox{\hyperlink{classecs_1_1_entity}{Entity}}\ \textcolor{keyword}{const}\ \&e);}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ Component>}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classecs_1_1_sparse_array}{SparseArray<Component>}}\ \&\mbox{\hyperlink{classecs_1_1_registry_a8ae60d5b07b673167b3bdcf4dd36c627}{registerComponent}}();}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{class\ }...\ Components>}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classecs_1_1_registry_a85267c79d43567eb563452e47802b306}{registerComponents}}();}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ Tuple>}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classecs_1_1_registry_acf03f85797c2d65adfbe11638bd8589a}{registerComponentsByExtraction}}();}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ Component>}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classecs_1_1_sparse_array}{SparseArray<Component>}}\ \&\mbox{\hyperlink{classecs_1_1_registry_aa00d974334f625d6ef9325a3a3d826af}{getComponents}}();}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ Component>}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classecs_1_1_sparse_array}{SparseArray<Component>}}\ \&\mbox{\hyperlink{classecs_1_1_registry_aa00d974334f625d6ef9325a3a3d826af}{getComponents}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00117\ }
\DoxyCodeLine{00126\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Component>}
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ SparseArray<Component>::reference\_type\ \mbox{\hyperlink{classecs_1_1_registry_a8e797453b35215930781240c41bdd828}{addComponent}}(\mbox{\hyperlink{classecs_1_1_entity}{Entity}}\ \textcolor{keyword}{const}\ \&to,\ \mbox{\hyperlink{class_component}{Component}}\ \&\&c);}
\DoxyCodeLine{00128\ }
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ \mbox{\hyperlink{class_component}{Component}},\ \textcolor{keyword}{typename}\ ...\ Params>}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ SparseArray\ <Component>::reference\_type\ \mbox{\hyperlink{classecs_1_1_registry_a80f912dbc29509aea730b6195bf671b8}{emplaceComponent}}(\mbox{\hyperlink{classecs_1_1_entity}{Entity}}\ \textcolor{keyword}{const}\ \&to,\ Params\ \&\&...\ p);}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Component>}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classecs_1_1_registry_a99a1b5411ada253846bff2ced94e4f95}{removeComponent}}(\mbox{\hyperlink{classecs_1_1_entity}{Entity}}\ \textcolor{keyword}{const}\ \&from);}
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00151\ }
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}...\ Args>}
\DoxyCodeLine{00161\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classecs_1_1_registry_a410688619405dfd148c17e09346324aa}{addSystem}}(Args\&\&...\ args);}
\DoxyCodeLine{00162\ }
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classecs_1_1_registry_a410688619405dfd148c17e09346324aa}{addSystem}}(std::unique\_ptr<T>\ existingSystem);}
\DoxyCodeLine{00172\ }
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00179\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classecs_1_1_registry_a05a9ad3d377d1f0b731e112245ac165c}{removeSystem}}();}
\DoxyCodeLine{00180\ }
\DoxyCodeLine{00186\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00187\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classecs_1_1_registry_accd1d0b1eecbcd3d7280d1ad497c4019}{callSystem}}();}
\DoxyCodeLine{00188\ }
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classecs_1_1_registry_a491406d0af5f7d0d751aa71b78f2da5e}{callSystems}}();}
\DoxyCodeLine{00193\ }
\DoxyCodeLine{00194\ \ \ \ \ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00195\ }
\DoxyCodeLine{00196\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00197\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structecs_1_1_registry_1_1is__tuple}{is\_tuple}}\ :\ std::false\_type\ \{\};}
\DoxyCodeLine{00198\ }
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}...\ Args>}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structecs_1_1_registry_1_1is__tuple}{is\_tuple}}<std::tuple<Args...>>\ :\ std::true\_type\ \{\};}
\DoxyCodeLine{00201\ }
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00203\ }
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \_entitiesCount\ =\ 0;}
\DoxyCodeLine{00205\ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<Entity>\ killedEntities;}
\DoxyCodeLine{00206\ }
\DoxyCodeLine{00207\ \ \ \ \ \ \ \ \ \ \ \ \ std::unordered\_map<std::type\_index,\ std::any>\ componentsArrays;}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ \ \ \ \ std::unordered\_map<std::type\_index,\ std::any>\ systemsArrays;}
\DoxyCodeLine{00209\ }
\DoxyCodeLine{00210\ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<std::function<void(\mbox{\hyperlink{classecs_1_1_registry}{Registry}}\ \&,\ \mbox{\hyperlink{classecs_1_1_entity}{Entity}}\ \textcolor{keyword}{const}\ \&)>>\ componentsRemoves;}
\DoxyCodeLine{00211\ }
\DoxyCodeLine{00212\ \ \ \ \ \ \ \ \ \ \ \ \ std::unordered\_map<std::type\_index,\ std::unique\_ptr<System>>\ systems;}
\DoxyCodeLine{00213\ \ \ \ \ \};}
\DoxyCodeLine{00214\ }
\DoxyCodeLine{00215\ \}}
\DoxyCodeLine{00216\ }
\DoxyCodeLine{00217\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ REGISTRY\_HPP}}

\end{DoxyCode}
