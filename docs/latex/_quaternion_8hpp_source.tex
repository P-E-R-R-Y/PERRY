\doxysection{Quaternion.\+hpp}
\hypertarget{_quaternion_8hpp_source}{}\label{_quaternion_8hpp_source}\index{/Users/perrychouteau/Documents/GitHub/PERRY/project/modules/graphic/sfml/window/Quaternion.hpp@{/Users/perrychouteau/Documents/GitHub/PERRY/project/modules/graphic/sfml/window/Quaternion.hpp}}
\mbox{\hyperlink{_quaternion_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ <SFML/Graphics.hpp>}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_vector3f_8hpp}{Vector3f.hpp}}"{}}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00021\ \textcolor{keyword}{class\ }\mbox{\hyperlink{group___s_f_m_l_gabcc01358aada56ea5f0db4da18aaf77d}{Quaternion}}\ \{}
\DoxyCodeLine{00022\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___s_f_m_l_gabcc01358aada56ea5f0db4da18aaf77d}{Quaternion}}():\ w(1),\ x(0),\ y(0),\ z(0)\ \{\}}
\DoxyCodeLine{00028\ \ }
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___s_f_m_l_gab13d6ced50c96438115b30cb91fc7d6c}{Quaternion}}(\textcolor{keywordtype}{float}\ w,\ \textcolor{keywordtype}{float}\ x,\ \textcolor{keywordtype}{float}\ y,\ \textcolor{keywordtype}{float}\ z)\ :\ w(w),\ x(x),\ y(y),\ z(z)\ \{\}}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___s_f_m_l_ga5f834c2ca469cd71edc8a23fdc3f56e8}{\string~Quaternion}}()\ \{\}}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{group___s_f_m_l_gabcc01358aada56ea5f0db4da18aaf77d}{Quaternion}}\ \mbox{\hyperlink{group___s_f_m_l_ga472e10e2718d8cf659ebe7a59fe7b0fa}{identity}}()\ \{}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group___s_f_m_l_gabcc01358aada56ea5f0db4da18aaf77d}{Quaternion}}(1,\ 0,\ 0,\ 0);}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{group___s_f_m_l_gabcc01358aada56ea5f0db4da18aaf77d}{Quaternion}}\ \mbox{\hyperlink{group___s_f_m_l_gaffdd38ae8856d7ec854a90853a054ca1}{fromEulerAngles}}(\textcolor{keywordtype}{float}\ x,\ \textcolor{keywordtype}{float}\ y,\ \textcolor{keywordtype}{float}\ z)\ \{}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___s_f_m_l_gabcc01358aada56ea5f0db4da18aaf77d}{Quaternion}}\ q;}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \ \ \ \ sf::Vector3f\ half\ =\ \{x\ /\ 2,\ y\ /\ 2,\ z\ /\ 2\};}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \ \ \ \ q.w\ =\ std::cos(half.x)\ *\ std::cos(half.y)\ *\ std::cos(half.z)\ +\ std::sin(half.x)\ *\ std::sin(half.y)\ *\ std::sin(half.z);}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \ \ \ \ q.x\ =\ std::sin(half.x)\ *\ std::cos(half.y)\ *\ std::cos(half.z)\ -\/\ std::cos(half.x)\ *\ std::sin(half.y)\ *\ std::sin(half.z);}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \ \ \ \ q.y\ =\ std::cos(half.x)\ *\ std::sin(half.y)\ *\ std::cos(half.z)\ +\ std::sin(half.x)\ *\ std::cos(half.y)\ *\ std::sin(half.z);}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \ \ \ \ q.z\ =\ std::cos(half.x)\ *\ std::cos(half.y)\ *\ std::sin(half.z)\ -\/\ std::sin(half.x)\ *\ std::sin(half.y)\ *\ std::cos(half.z);}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ q;}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{group___s_f_m_l_gabcc01358aada56ea5f0db4da18aaf77d}{Quaternion}}\ \mbox{\hyperlink{group___s_f_m_l_gab2329cfaf48acccd1ee0c8e9622e1f1e}{fromAxisAngle}}(\textcolor{keywordtype}{float}\ angle,\ sf::Vector3f\ axis)\ \{}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___s_f_m_l_gabcc01358aada56ea5f0db4da18aaf77d}{Quaternion}}\ q;}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ half\ =\ angle\ /\ 2;\ }
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \ \ \ \ q.w\ =\ std::cos(half);}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \ \ \ \ q.x\ =\ axis.x\ *\ std::sin(half);}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \ \ \ \ q.y\ =\ axis.y\ *\ std::sin(half);}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \ \ \ \ q.z\ =\ axis.z\ *\ std::sin(half);}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ q;}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{group___s_f_m_l_gabcc01358aada56ea5f0db4da18aaf77d}{Quaternion}}\ \mbox{\hyperlink{group___s_f_m_l_ga9fcfa9ff4a12d1cab07d561ab904e240}{fromVectors}}(\textcolor{keyword}{const}\ sf::Vector3f\&\ v1,\ \textcolor{keyword}{const}\ sf::Vector3f\&\ v2)\ \{}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Normalize\ the\ vectors}}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \ \ \ \ sf::Vector3f\ u1\ =\ \mbox{\hyperlink{group__sfml__extra_gaf2fb156d3650dd4a023012d7e490497a}{normaliseV3f}}(v1);}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \ \ \ \ sf::Vector3f\ u2\ =\ \mbox{\hyperlink{group__sfml__extra_gaf2fb156d3650dd4a023012d7e490497a}{normaliseV3f}}(v2);}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ dot\ =\ \mbox{\hyperlink{group__sfml__extra_gab82b99fd9eebd9b7b10a4f8f3985c0e8}{dotProduct}}(u1,\ u2);}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//todo:\ check\ if\ this\ check\ is\ indeed\ working\ well\ with\ 180Â°\ rotation}}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (dot\ >\ 0.999999)\ \{}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group___s_f_m_l_gabcc01358aada56ea5f0db4da18aaf77d}{Quaternion}}(1,\ 0,\ 0,\ 0);}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (dot\ <\ -\/0.999999)\ \{}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sf::Vector3f\ axis\ =\ \mbox{\hyperlink{group__sfml__extra_gad5fd8037d6e46130fe85e122209f2df1}{crossProduct}}(\{1,\ 0,\ 0\},\ u1);}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (axis.x\ ==\ 0\ \&\&\ axis.y\ ==\ 0\ \&\&\ axis.z\ ==\ 0)\ \{}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ axis\ =\ \mbox{\hyperlink{group__sfml__extra_gad5fd8037d6e46130fe85e122209f2df1}{crossProduct}}(\{0,\ 1,\ 0\},\ u1);}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group___s_f_m_l_gabcc01358aada56ea5f0db4da18aaf77d}{Quaternion}}(0,\ axis.x,\ axis.y,\ axis.z);}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \ \ \ \ sf::Vector3f\ axis\ =\ \mbox{\hyperlink{group__sfml__extra_gad5fd8037d6e46130fe85e122209f2df1}{crossProduct}}(u1,\ u2);}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ u1Length\ =\ sqrt(u1.x\ *\ u1.x\ +\ u1.y\ *\ u1.y\ +\ u1.z\ *\ u1.z);}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ u2Length\ =\ sqrt(u2.x\ *\ u2.x\ +\ u2.y\ *\ u2.y\ +\ u2.z\ *\ u2.z);}
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ w\ =\ sqrt((u1Length\ *\ u1Length)\ *\ (u2Length\ *\ u2Length))\ +\ dot;}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___s_f_m_l_gabcc01358aada56ea5f0db4da18aaf77d}{Quaternion}}\ q(w,\ axis.x,\ axis.y,\ axis.z);}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ q;}
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00123\ }
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___s_f_m_l_gabcc01358aada56ea5f0db4da18aaf77d}{Quaternion}}\ \mbox{\hyperlink{group___s_f_m_l_ga23fa21eb2e14c5207f90e840787c348a}{conjugate}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group___s_f_m_l_gabcc01358aada56ea5f0db4da18aaf77d}{Quaternion}}(w,\ -\/x,\ -\/y,\ -\/z);}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00132\ }
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group___s_f_m_l_ga48e6bafb249c895ed25f29dc9170e11e}{normalize}}()\ \{}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ magnitude\ =\ std::sqrt(w\ *\ w\ +\ x\ *\ x\ +\ y\ *\ y\ +\ z\ *\ z);}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (magnitude\ ==\ 0)\ \{}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ w\ =\ 1;}
\DoxyCodeLine{00140\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ x\ =\ 0;}
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ y\ =\ 0;}
\DoxyCodeLine{00142\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ z\ =\ 0;}
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ w\ /=\ magnitude;}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ x\ /=\ magnitude;}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ y\ /=\ magnitude;}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ z\ /=\ magnitude;}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00150\ }
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group___s_f_m_l_gab59d8e7a42209711197ba93369100d26}{enforceSign}}()\ \{}
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (w\ <\ 0)\ \{}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ w\ =\ -\/w;}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ x\ =\ -\/x;}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ y\ =\ -\/y;}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ z\ =\ -\/z;}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00161\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00162\ }
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ sf::Vector3f\ \mbox{\hyperlink{group___s_f_m_l_ga3951a01ed2a4f599fbb2ce2b3e8cd767}{rotate}}(sf::Vector3f\ point,\ sf::Vector3f\ center\ =\ \{0,\ 0,\ 0\})\ \textcolor{keyword}{const}\ \{}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_quaternion}{Quaternion}}\ p(0,\ point.x\ -\/\ center.x,\ point.y\ -\/\ center.y,\ point.z\ -\/\ center.z);}
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_quaternion}{Quaternion}}\ q\ =\ (*\textcolor{keyword}{this}\ *\ p)\ *\ \mbox{\hyperlink{group___s_f_m_l_ga23fa21eb2e14c5207f90e840787c348a}{conjugate}}();}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \{q.x\ +\ center.x,\ q.y\ +\ center.y,\ q.z\ +\ center.z\};}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00175\ }
\DoxyCodeLine{00182\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___s_f_m_l_gabcc01358aada56ea5f0db4da18aaf77d}{Quaternion}}\ \mbox{\hyperlink{group___s_f_m_l_ga757ec55f9f361fcd8b518abaec05b29b}{operator*}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{group___s_f_m_l_gabcc01358aada56ea5f0db4da18aaf77d}{Quaternion}}\&\ other)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group___s_f_m_l_gabcc01358aada56ea5f0db4da18aaf77d}{Quaternion}}\ q(}
\DoxyCodeLine{00184\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ w\ *\ other.w\ -\/\ x\ *\ other.x\ -\/\ y\ *\ other.y\ -\/\ z\ *\ other.z,}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ w\ *\ other.x\ +\ x\ *\ other.w\ +\ y\ *\ other.z\ -\/\ z\ *\ other.y,}
\DoxyCodeLine{00186\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ w\ *\ other.y\ -\/\ x\ *\ other.z\ +\ y\ *\ other.w\ +\ z\ *\ other.x,}
\DoxyCodeLine{00187\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ w\ *\ other.z\ +\ x\ *\ other.y\ -\/\ y\ *\ other.x\ +\ z\ *\ other.w}
\DoxyCodeLine{00188\ \ \ \ \ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{00189\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ q;}
\DoxyCodeLine{00190\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00191\ }
\DoxyCodeLine{00192\ \ \ \ \ \textcolor{keywordtype}{float}\ w,\ x,\ y,\ z;}
\DoxyCodeLine{00193\ \};}

\end{DoxyCode}
